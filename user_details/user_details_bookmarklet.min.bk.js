javascript:(()=>{const i=document.querySelector('iframe[name="bb-base-admin-iframe"]');if(!i||!i.contentDocument)return alert("âš  Go to Admin > Users > Users to run this.");const d=i.contentDocument,h=d.location.origin;if(!d.location.pathname.includes("/webapps/blackboard/execute/userManager"))return alert("âš  Go to Admin > Users > Users to run this.");const c={},b="clearProfileInfoIcons";if(!d.querySelector(`#${b}`)){const e=d.createElement("button");e.id=b,e.textContent="Clear Icons",Object.assign(e.style,{position:"fixed",top:"10px",right:"10px",zIndex:"9999",background:"purple",color:"white",border:"none",padding:"6px 10px",borderRadius:"4px",fontSize:"14px"}),e.onclick=()=>{d.querySelectorAll(".profile-info-icon").forEach(t=>t.remove()),e.remove(),Object.keys(c).forEach(k=>delete c[k])},d.body.appendChild(e)}d.querySelectorAll("span.profileCardAvatarThumb").forEach(s=>{if(s.previousSibling?.classList?.contains("profile-info-icon"))return;const u=s.textContent.trim();if(!u)return;const p=d.createElement("span");p.textContent="ðŸ›ˆ",p.title="Hover to load user info",p.className="profile-info-icon",Object.assign(p.style,{cursor:"pointer",marginRight:"6px"}),p.onmouseenter=()=>{if(c[u])return void(p.title=c[u]);p.title="Loading...";const a=`${h}/learn/api/public/v1/users/userName:${encodeURIComponent(u)}?fields=id,externalId,lastLogin,userName,created`;fetch(a).then(r=>{if(!r.ok)throw new Error(`HTTP ${r.status}`);return r.json()}).then(j=>{const l=j.lastLogin?new Date(j.lastLogin).toLocaleString():"N/A",f=j.created?new Date(j.created).toLocaleString():"N/A",m=`User ID: ${j.id||"N/A"}\nExternal ID: ${j.externalId||"N/A"}\nLast Login: ${l}\nDate Created: ${f}`;p.title=m,c[u]=m}).catch(e=>{p.title="Error fetching user info",console.error("Fetch error:",e)})},s.parentElement.insertBefore(p,s)})})();
